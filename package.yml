name       : dpkg
version    : 1.20.9
release    : 15
source     :
    - https://ftp.debian.org/debian/pool/main/d/dpkg/dpkg_1.20.9.tar.xz : 5ce242830f213b5620f08e6c4183adb1ef4dc9da28d31988a27c87c71fe534ce
license    : GPL-2.0-or-later
component  : programming.devel
homepage   : https://wiki.debian.org/dpkg/
summary    : DO NOT USE THIS.
description: |
    Debian Package Manager - for Cross Distro Purposes. Do NOT use to attempt installation of packages on Solus, it's not compatible!
builddeps  :
    - bzip2-devel
setup      : |
    %configure --disable-start-stop-daemon \
        --disable-install-info \
        --disable-static
build      : |
    %make
install    : |
    %make_install

    # use standard names for man pages
    for file in $installdir/usr/share/man/man3/*; do
        newname=$(echo "$file" | sed -Ee 's/3perl/3/')
        mv "$file" "$newname"
    done

    # nuke docs
    rm -rf $installdir/usr/share/doc

    # why is this even here
    rm -f $installdir/etc/alternatives/README

    # delete empty dirs
    find $installdir -type d -empty -delete
